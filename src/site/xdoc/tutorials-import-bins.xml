<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE document PUBLIC
  "-//Apache Software Foundation//DTD XDOC 1.0//EN"
  "http://maven.apache.org/dtd/xdoc_1_0.dtd">
<!--
    Copyright 2015 Hippo

    Licensed under the Apache License, Version 2.0 (the  "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS"
    BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<document>
  <properties>
    <title>Tutorials - Importing Binaries</title>
  </properties>
  <body>

    <section name="Tutorials - Importing Binaries">

      <p>
        The code snippets are excerpts (or slightly simplififed ones) from
        <a href="https://forge.onehippo.org/svn/content-exim/content-exim-demo/trunk/bootstrap/configuration/src/main/resources/configuration/update/registry/demo-import-binaries.xml">Demo - Import Asset and Image Set Content</a>
        in the <a href="index.html#Demo_Application">demo project</a>.
      </p>

      <subsection name="Introduction">
        <p>
          TODO
        </p>
      </subsection>

      <subsection name="Collect Source JSON Content Files in Groovy Updater">
        <div class="brush: java">
          <source><![CDATA[
    // 1. Initialize (workflow) document manager and binary importing task using the default implementation.
    def documentManager = new WorkflowDocumentManagerImpl(session)
    def importTask = new DefaultBinaryImportTask(documentManager)
    // 1.1. Sets the logger to the export task, which is useful when running in groovy updater.
    importTask.setLogger(log)

    // 2. Starting import task, meaning the task starts the execution record bookkeeping.
    importTask.start()
          ]]>
          </source>
        </div>
      </subsection>

      <subsection name="Initializing Import Task">
        <div class="brush: java">
          <source><![CDATA[
    def todo
          ]]>
          </source>
        </div>
      </subsection>

      <subsection name="Import Binary Content and Create Binary Node">
        <div class="brush: java">
          <source><![CDATA[
    def todo
          ]]>
          </source>
        </div>
      </subsection>

      <subsection name="Log execution summary">
        <div class="brush: java">
          <source><![CDATA[
    def todo
          ]]>
          </source>
        </div>
      </subsection>

    </section>

  </body>
</document>
