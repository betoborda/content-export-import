<!DOCTYPE html>
    <!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2018-05-04 
 | Rendered using Hippo Forge Maven Skin 2.0.1 based on Apache Maven Fluido Skin
-->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
                  <meta name="Date-Revision-yyyymmdd" content="20180504" />
              <meta http-equiv="Content-Language" content="en" />
      <title>Hippo Content EXIM (EXport/IMport) Documentation &#x2013; FAQ</title>
  <link rel="stylesheet" href="./css/forge-maven-skin-syntaxhighlighter-2.0.1.min.css"/>
  <link rel="stylesheet" href="./css/forge-maven-skin-2.0.1.min.css"/>
  <link rel="stylesheet" href="./css/site.css" />
  <link rel="stylesheet" href="./css/print.css" media="print" />
  
  <script type="text/javascript" src="./js/forge-maven-skin-syntaxhighlighter-2.0.1.min.js"></script>
  <script type="text/javascript" src="./js/forge-maven-skin-2.0.1.min.js"></script>

    </head>
<body class="topBarDisabled">
                        <a href="https://github.com/onehippo-forge/content-export-import">
    <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
         src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"
         alt="Fork me on GitHub">
  </a>
          <div class="container-fluid">
  <div id="banner">
    <div id="logo">
      <a href="http://www.github.com/onehippo-forge">
        <img src="./images/hipposkin/hippo-forge-logo.png" alt="Hippo Forge Logo" />
      </a>
    </div>
    <div class="pull-left">              <div id="bannerLeft">    <h1>Hippo Content Export / Import</h1>
    </div>
              </div>
    <div class="pull-right"></div>
    <div class="clear"><hr/></div>
  </div>

  <div id="breadcrumbs">
    <div class="links">
      <a href="https://www.bloomreach.com">bloomreach.com</a>
      <a href="https://www.onehippo.org">onehippo.org</a>
    </div>
    <ul class="breadcrumb">
    
  <li id="publishDate">published: 2018-05-04  
  </li>
  
        
            </ul>
    <div class="clear"><hr/></div>
  </div>
<div class="row-fluid">
  <div id="leftColumn" class="span2">
    <div class="well sidebar-nav">
    
    <ul class="nav nav-list">
            <li class="nav-header">Home</li>
              <li>  <a href="index.html" title="Introduction">  <span class="none"></span>  Introduction</a>  </li>
        <li>  <a href="install.html" title="Installation">  <span class="none"></span>  Installation</a>  </li>
                                                                    <li>  <a href="builtin-rest-services.html" title="Built-in REST Services">  <span class="icon-chevron-down"></span>  Built-in REST Services</a>  
    <ul class="nav nav-list">
                  <li>  <a href="execution-params.html" title="ExecutionParams as a Common Parameter">  <span class="none"></span>  ExecutionParams as a Common Parameter</a>  </li>
                        <li>  <a href="cmd-example-export.html" title="Command Line Example to Export Content">  <span class="none"></span>  Command Line Example to Export Content</a>  </li>
                        <li>  <a href="cmd-example-import.html" title="Command Line Example to Import Content">  <span class="none"></span>  Command Line Example to Import Content</a>  </li>
                        <li>  <a href="cmd-example-status.html" title="Command Line Examples To Monitor Processes">  <span class="none"></span>  Command Line Examples To Monitor Processes</a>  </li>
              </ul>
  </li>
                                                                                                              <li>  <a href="tutorials.html" title="Tutorials">  <span class="icon-chevron-down"></span>  Tutorials</a>  
    <ul class="nav nav-list">
                  <li>  <a href="tutorials-export-bins.html" title="Exporting Binaries">  <span class="none"></span>  Exporting Binaries</a>  </li>
                        <li>  <a href="tutorials-export-docs.html" title="Exporting Documents">  <span class="none"></span>  Exporting Documents</a>  </li>
                        <li>  <a href="tutorials-import-bins.html" title="Importing Binaries">  <span class="none"></span>  Importing Binaries</a>  </li>
                        <li>  <a href="tutorials-import-image-files.html" title="Importing Image Set From Files">  <span class="none"></span>  Importing Image Set From Files</a>  </li>
                        <li>  <a href="tutorials-import-docs.html" title="Importing Documents">  <span class="none"></span>  Importing Documents</a>  </li>
                        <li>  <a href="tutorials-clean-mirror-docbase.html" title="Cleaning Hippo Mirror Docbase Values">  <span class="none"></span>  Cleaning Hippo Mirror Docbase Values</a>  </li>
                        <li>  <a href="tutorials-clean-string-docbase.html" title="Clean Hippo String Docbase Property Values">  <span class="none"></span>  Clean Hippo String Docbase Property Values</a>  </li>
              </ul>
  </li>
        <li class="active">  <a href="#"><span class="none"></span>FAQ</a>
  </li>
        <li>  <a href="apidocs/index.html" title="JavaDocs">  <span class="none"></span>  JavaDocs</a>  </li>
        <li>  <a href="release-notes.html" title="Release Notes">  <span class="none"></span>  Release Notes</a>  </li>
                  <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                    <li>  <a href="project-info.html" title="Project Information">  <span class="icon-chevron-right"></span>  Project Information</a>  </li>
                                                                                    <li>  <a href="project-reports.html" title="Project Reports">  <span class="icon-chevron-right"></span>  Project Reports</a>  </li>
        </ul>
    
          <hr />
      <div id="poweredBy">
                <div class="clear"></div>
                <div class="clear"></div>
                <div class="clear"></div>
                <div class="clear"></div>
              <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">  <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />  </a>
          </div>
    </div>
  </div>
  <div id="bodyColumn"  class="span10" >
    
  

    <div class="section">
<h2><a name="FAQ"></a>FAQ</h2>

      
<div class="section">
<h3><a name="Q:_How_to_get_more_logs_from_Content-EXIM_modules"></a>Q: How to get more logs from Content-EXIM modules?</h3>
        
<p>
          In general, it should be good enough to set the log level to <tt>INFO</tt> for
          <tt>org.onehippo.forge.content.exim</tt> logger category like the following example:
        </p>

        
<div class="brush: xml">
          
<div class="source"><pre>
              &lt;Logger name=&quot;org.onehippo.forge.content.exim&quot; level=&quot;info&quot; /&gt;
          </pre></div>
        </div>
      </div>

      
<div class="section">
<h3><a name="Q:_Why_released_only_for_Hippo_CMS_10.2"></a>Q: Why released only for Hippo CMS 10.2+?</h3>
        
<p>
          The module itself is not really using any new features of Hippo CMS 10.2 or later versions.
          However, when you write and execute a groovy script, the following code will not work in earlier versions
          because <tt>visitorContext</tt> has been supported since 10.2:
        </p>
        
<div class="brush: java">
          
<div class="source"><pre>
        visitorContext.reportUpdated(documentLocation) //,
        visitorContext.reportFailed(documentLocation)  //, or
        visitorContext.reportSkipped(documentLocation)  //.
          </pre></div>
        </div>
        
<p>
          When exporting content based on a query which returns each live or preview variant node to export,
          you don't have to invoke the methods of <tt>visitorContext</tt> because the node iteration by the
          groovy updater engine manages the batch size and threshold automatically based on the node iteration count
          (which is the same as invocation count on <tt>#doUpdate(Node)</tt> as a result).
        </p>
        
<p>
          However, it is very important to invoke those methods of <tt>visitorContext</tt>
          when you import a lot of documents in single <tt>#doUpdate(Node)</tt> method execution
          because the groovy updater engine cannot know how to count the execution count
          if you don't invoke the methods of <tt>visitorContext</tt> manually.
          Therefore, it is really important to invoke the methods of <tt>visitorContext</tt> on each unit of importing task
          when importing a lot of content in a single <tt>#doUpdate(Node)</tt> execution in a groovy script.
          Please see the <b>Reporting of Execution</b> section in the
          <a class="externalLink" href="http://www.onehippo.org/library/concepts/update/using-the-updater-editor.html" target="_blank">Using the Updater Editor</a>
          page for more detail.
        </p>
        
<p>
          <i>Note:</i>
          If you implement a new Java application using the migration task components instead of using Groovy Updater scripts
          or need to use an earlier version such as 10.1.x, then it's totally up to you when you import much data in single <tt>#doUpdate(Node)</tt> execution.
          You should maintain the batch size and threshold for system availability by yourself.
          For example, you can invoke <tt>javax.jcr.Session#save()</tt> on every N processing,
          or <tt>javax.jcr.Session#refresh(false)</tt> on any exception
          to keep consistency and avoid unexpected huge memory consumption like the following example:
        </p>
        
<div class="brush: java">
          
<div class="source"><pre>
            boolean isDryRun = false;

            // do the following in iteration.
            if (processCount++ % 10 == 0) {
                if (isDryRun) {
                    session.refresh(false);
                } else {
                    try {
                        session.save();
                    } catch (RepositoryException e) {
                        session.refresh(false);
                    }
                }
            }

            // do the following again to revert or save after getting out iteration.
            if (isDryRun) {
                session.refresh(false);
            } else {
                try {
                    session.save();
                } catch (RepositoryException e) {
                    session.refresh(false);
                }
            }
          </pre></div>
        </div>
      </div>

      
<div class="section">
<h3><a name="Q:_Why_named_to_Content_EXIM"></a>Q: Why named to Content EXIM?</h3>
        
<p>
          Well, it's about <b>Content</b> migration and migration tasks are either <b>EX</b>port
          or <b>IM</b>port, right? :-)
        </p>
        
<p>
          But also, <b>EXIM Banks</b> exist in many countries to help exporters and importers in their country
          mostly <i>finacially</i>. Most hard work is done by exporters and importers, but their financial support might be helpful.
        </p>
        
<p>
          In the same way, <b>Content EXIM</b> module wishes to help content exporters and importers
          mostly <i>technically</i> by providing core components and sharing knowledges in the community.
          Most hard work is done by content exporters and importers, but the technical support with the community might be helpful. ;-)
        </p>
      </div>

    </div>

  

    </div>
    </div>
    </div>
    <hr/>
    <footer>
    <div class="container-fluid">
      <div class="row-fluid">
          <p class="copyright">Copyright &copy;      2018.
  Hippo B.V. All rights reserved.
</p>
    </div>
            </div>
  </footer>
    </body>
</html>

